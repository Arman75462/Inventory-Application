<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/global.css" />
    <link rel="stylesheet" href="/productsStyle/editProductFormStyle.css" />

    <!-- Favicon -->
    <link
      id="favicon"
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 64 64%22><text x=%2232%22 y=%2242%22 font-size=%2248%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22><%= productDetails.emoji %></text></svg>"
    />

    <title>Edit <%= productDetails.name %></title>
  </head>
  <body>
    <%- include("../partials/header.ejs") %>

    <section class="wrapper EditProduct">
      <a
        href="/products/product/<%=productDetails.id%>"
        class="EditProduct__return-link"
        ><button class="EditProduct__return-button">
          &lt;&lt; Return to <%=productDetails.name%>
        </button></a
      >

      <form method="POST" action="/products/edit/<%=productDetails.id%>">
        <p class="EditProduct__emoji"><%= productDetails.emoji %></p>

        <div class="EditProduct__content">
          <h1 class="EditProduct__title"><%= productDetails.name %></h1>

          <p
            class="EditProduct__category"
            style="background-color: <%= productDetails.color %>"
          >
            <%= productDetails.category %>
          </p>

          <div class="EditProduct__inputs-container">
            <div>
              <label for="newProductPrice">Price: $</label>
              <input
                type="number"
                id="newProductPrice"
                name="newProductPrice"
                min="0"
                max="1000"
                step="0.01"
                value="<%= oldInput ? oldInput.newProductPrice : productDetails.price %>"
                required
              />
            </div>

            <textarea
              id="newProductDescription"
              name="newProductDescription"
              maxlength="100"
              required
            >
<%= oldInput ? oldInput.newProductDescription : productDetails.description %></textarea
            >

            <div>
              <label for="newProductQuantity">Quantity:</label>
              <input
                type="number"
                id="newProductQuantity"
                name="newProductQuantity"
                value="<%= oldInput ? oldInput.newProductQuantity : productDetails.quantity %>"
                step="1"
                min="1"
                max="10000"
                required
              />
            </div>
          </div>

          <%- include("../partials/errors.ejs") %>

          <button type="submit" class="EditProduct__submit-button">
            Submit edits
          </button>
        </div>
      </form>
    </section>

    <%- include("../partials/footer.ejs") %>
  </body>
</html>
